# Network

## 서버란
-다른 컴퓨터에서 연결 가능하도록 상시 실행대기하며 서비스를 제공하는 프로그램

### Web Server(예 HTTP Server)
* 정보 요청/갱신이 적다
* 실시간 인터랙션이 없다.
* 웹 서비스를 만드는데 주로 사용(구글,네이버,아마존 등)
* 처음부터 만들지 않고 프레임웍을 하나 골라서 사용
  (Spring(Java), Node JS(JavaScript),vASP.net(C#),vPHP)

### Game Server(예 TCP Server, Binary Server)
* 요청/갱신 많다.
* 실시간 인터랙션 있다.
* 서버가 클라이언트에 질의 가능
* stateful(상태 갱신 및 교환이 많다)

### 게임서버 작성시 고려대상
* 최대 동시 접속자
* 게임 장르 및 채널링
* 게임 로직
* 쓰레드 개수
* 쓰레드 모델
* 네트워크 모델
* 반응성
* DB

## 멀티쓰레드 
<windows.h>에 있는 CreateThread는 윈도우에 종속적.
C++ 11에서 지원하는 <thread>에 있는 std::thread를 사용하는 것이 범용성에 좋다.
join() 함수로 쓰레드가 끝날때까지 기다린 후 종료한다.
vector<>에 thread를 여러개 넣어놓고 관리할 수 있다.
전역변수 동기화 문제
=>전역변수 값 변경시 레지스트리와 메모리 사이에 읽기 쓰기 하는 과정 중 다른 쓰레드도 동시에 작업을 하기 때문에 덮어쓰기 문제가 발생하여 
  원하는 값이 나오지 않을 수 있다.
  interlockedincrement 함수를 사용하거나 <atomic>을 include 하여 atomic<int32>와 같이 사용하면 해당 문제를 해결할 수 있다. 
  ->속도 저하 문제가 생길 수 있으므로 꼭 필요한 경우에만 사용하자
